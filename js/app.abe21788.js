(function(t){function e(e){for(var i,s,o=e[0],l=e[1],u=e[2],p=0,v=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&v.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(v.length)v.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=r[0]))}return t}var i={},n={app:0},a=[];function s(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=i,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Club-Lottery/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"background-image":"url('http://www.ahjinzhai.gov.cn/_res/images/body-bg.jpg')","background-size":"100%","background-repeat":"no-repeat",height:"100vh !important","text-align":"center"}},[r("div",{staticStyle:{"background-image":"linear-gradient(135deg, #2b332b 0%, #2b332b 3%, #147bfc4a 3%)",height:"100%","backdrop-filter":"blur(15px)"}},[r("el-row",{staticStyle:{"padding-top":"5%"},attrs:{gutter:20}},[r("el-col",{staticStyle:{"text-align":"left"},attrs:{span:14}},t._l(t.name,(function(e,i){return r("div",{key:i,staticStyle:{display:"inline-block",width:"10%","margin-left":"2%","box-shadow":"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px","margin-top":"3%","text-align":"center"}},[i!=t.curNumber?r("div",[r("div",{staticStyle:{position:"relative"}},[r("el-image",{staticStyle:{width:"5vw"},attrs:{src:"/avatar/"+(i+1)+".png"}}),t.survive[i]?t._e():r("el-image",{staticStyle:{position:"relative",top:"-20%","margin-top":"-200%","margin-bottom":"0",width:"5vw"},attrs:{src:"/out.png"}})],1),t.survive[i]?r("div",{staticStyle:{"margin-top":"5%","margin-bottom":"5%"}},[t._v(t._s(e))]):r("div",{staticStyle:{"margin-top":"5%","margin-bottom":"5%","text-decoration":"line-through"}},[t._v(t._s(e))])]):r("div",{staticStyle:{"box-shadow":"rgb(85, 91, 255) 0px 0px 0px 3px, rgb(31, 193, 27) 0px 0px 0px 6px, rgb(255, 217, 19) 0px 0px 0px 9px, rgb(255, 156, 85) 0px 0px 0px 12px, rgb(255, 85, 85) 0px 0px 0px 15px"}},[r("div",{staticStyle:{position:"relative"}},[r("el-image",{staticStyle:{width:"5vw"},attrs:{src:"/avatar/"+(i+1)+".png"}}),t.survive[i]?t._e():r("el-image",{staticStyle:{position:"relative",top:"-20%","margin-top":"-200%","margin-bottom":"0",width:"4vw"},attrs:{src:"/out.png"}})],1),t.survive[i]?r("div",{staticStyle:{"margin-top":"5%","margin-bottom":"5%"}},[t._v(t._s(e))]):r("div",{staticStyle:{"margin-top":"5%","margin-bottom":"5%","text-decoration":"line-through"}},[t._v(t._s(e))])])])})),0),r("el-col",{attrs:{span:3}},[r("div",[t._v("约瑟夫数为： "),r("br"),r("h1",{staticStyle:{color:"white"}},[t._v(t._s(t.yuesefu))])]),r("div",[t._v("当前计数： "),r("br"),r("h3",{staticStyle:{color:"white"}},[t._v(t._s(t.curCount))])]),r("div",[t._v("剩余人数："),r("br"),r("el-progress",{attrs:{type:"circle",percentage:t.remainPercent,width:100,format:t.format}})],1),r("br"),r("el-button",{staticStyle:{"margin-top":"3%"},on:{click:function(e){return t.yuesefuGo()}}},[t._v("约瑟夫淘汰")]),r("div",{staticStyle:{"margin-top":"15%"}},[t._v(" 当前速度： "),r("el-input-number",{staticStyle:{"margin-top":"10%",width:"75%"},attrs:{min:1,max:10,label:"描述文字"},model:{value:t.curSpeed,callback:function(e){t.curSpeed=e},expression:"curSpeed"}})],1)],1),r("el-col",{attrs:{span:7}},[r("div",[r("h1",[t._v("一等奖")]),-1!=t.prizes[0][0]?r("div",[r("el-image",{staticStyle:{width:"100%"},attrs:{src:"/avatar/"+(t.prizes[0][0]+1)+".png"}}),t._v(" "+t._s(t.name[t.prizes[0][0]])+" ")],1):r("div",[r("el-image",{staticStyle:{width:"5vw"},attrs:{src:"/avatar/none.png"}}),r("br"),t._v(" 虚位以待 ")],1)]),r("div",[r("h2",[t._v("二等奖")]),t._l(t.prizes[1],(function(e,i){return r("div",{key:i,staticStyle:{width:"15%",display:"inline-block","margin-left":"5%"}},[-1!=t.prizes[1][i]?r("div",[r("el-image",{staticStyle:{width:"100%"},attrs:{src:"/avatar/"+(t.prizes[1][i]+1)+".png"}}),t._v(" "+t._s(t.name[t.prizes[1][i]])+" ")],1):r("div",[r("el-image",{staticStyle:{width:"100%"},attrs:{src:"/avatar/none.png"}}),r("br"),t._v(" 虚位以待 ")],1)])}))],2),r("div",[r("h3",[t._v("三等奖")]),t._l(t.prizes[2],(function(e,i){return r("div",{key:i,staticStyle:{width:"10%",display:"inline-block","margin-left":"5%"}},[-1!=t.prizes[2][i]?r("div",[r("el-image",{staticStyle:{width:"100%"},attrs:{src:"/avatar/"+(t.prizes[2][i]+1)+".png"}}),t._v(" "+t._s(t.name[t.prizes[2][i]])+" ")],1):r("div",[r("el-image",{staticStyle:{width:"100%"},attrs:{src:"/avatar/none.png"}}),r("br"),t._v(" 虚位以待 ")],1)])}))],2)])],1)],1)])},a=[],s=(r("b0c0"),r("99af"),{data:function(){return{yuesefu:7,curCount:0,curNumber:0,remainPerson:0,timeCount:null,curSpeed:1,name:["徐满心","毛哥","www","归海记忆","OliverShang","redefinition","+1","Joe","加油","左脑","??"],survive:[],prizes:[[-1],[-1,-1,-1,-1],[-1,-1,-1,-1,-1]],prizeCount:0}},created:function(){for(var t=0;t<this.name.length;++t)this.survive.push(!0);this.remainPerson=this.name.length;for(var e=0;e<this.prizes.length;++e)this.prizeCount+=this.prizes[e].length;console.log(this.prizeCount)},computed:{remainPercent:function(){return Math.round(this.remainPerson/this.name.length*100)}},methods:{format:function(t){return"".concat(this.remainPerson," / ").concat(this.name.length)},getPrize:function(t){if(this.remainPerson<this.prizeCount){console.log("hello?"),this.prizeCount-=1;for(var e=this.prizes.length-1;e>=0;--e)for(var r=0;r<this.prizes[e].length;++r)if(-1==this.prizes[e][r])return this.prizes[e][r]=t,this.$set(this.prizes[e],r,t),console.log(e,r,this.prizes[e][r]),void this.playHappy()}else this.playFail()},randomGoAway:function(){if(this.canGoAway()){var t=0;while(t<this.survive.length&&!this.survive[t])t=Math.round(Math.random()*this.survive.length);this.remainPerson-=1,this.$set(this.survive,t,!1),this.$message({message:"淘汰了【"+this.name[t]+"】",type:"warning"})}else this.$message({message:"所有人都已经被淘汰了",type:"warning"})},canGoAway:function(){for(var t=0;t<this.name.length;++t)if(this.survive[t])return!0;return!1},getNextNumber:function(){var t=(this.curNumber+1)%this.name.length;while(!this.survive[t])t=(t+1)%this.name.length;return t},playSE:function(){var t=new Audio;t.src="/go.mp3",t.play()},playFail:function(){var t=new Audio;t.src="/die.wav",t.play()},playHappy:function(){var t=new Audio;t.src="/yes.mp3",t.play()},yuesefuGo:function(){var t=this;null==this.timeCount?this.canGoAway()?this.timeCount=setInterval((function(){t.curCount+=1,t.curNumber=t.getNextNumber(),console.log(t.curNumber),t.curCount==t.yuesefu?(clearInterval(t.timeCount),t.timeCount=null,t.curCount=0,t.remainPerson-=1,t.$set(t.survive,t.curNumber,!1),t.$message({message:"淘汰了【"+t.name[t.curNumber]+"】",type:"warning"}),t.getPrize(t.curNumber)):t.playSE()}),300/this.curSpeed):this.$message({message:"所有人都已经被淘汰了",type:"warning"}):this.$message({message:"请等待当前淘汰结束",type:"warning"})}}}),o=s,l=r("2877"),u=Object(l["a"])(o,n,a,!1,null,null,null),c=u.exports,p=r("5c96"),v=r.n(p);r("0fae");i["default"].config.productionTip=!1,i["default"].use(v.a),new i["default"]({render:function(t){return t(c)}}).$mount("#app")}});
//# sourceMappingURL=app.abe21788.js.map